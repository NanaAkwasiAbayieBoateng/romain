<pre><font color="#000000">funx <font color="#000000"><strong>&lt;-</strong></font> <font color="#ff0000">cfunction</font><font color="#000000"><strong>(</strong></font> <font color="#ff0000">signature</font><font color="#000000"><strong>(</strong></font>x <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">data.frame</font><font color="#6666ff">&quot;</font><font color="#000000"><strong>)</strong></font>, <font color="#6666ff">'</font>
<font color="#6666ff">        </font><font color="#6666ff">List</font><font color="#6666ff"> </font><font color="#6666ff">df(x)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">        </font><font color="#6666ff">IntegerVector</font><font color="#6666ff"> </font><font color="#6666ff">df_x</font><font color="#6666ff"> </font><font color="#6666ff">=</font><font color="#6666ff"> </font><font color="#6666ff">df[&quot;x&quot;]</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">        </font><font color="#6666ff">int</font><font color="#6666ff"> </font><font color="#6666ff">res</font><font color="#6666ff"> </font><font color="#6666ff">=</font><font color="#6666ff"> </font><font color="#6666ff">std::accumulate(</font><font color="#6666ff"> </font><font color="#6666ff">df_x.begin(),</font><font color="#6666ff"> </font><font color="#6666ff">df_x.end(),</font><font color="#6666ff"> </font><font color="#6666ff">0</font><font color="#6666ff"> </font><font color="#6666ff">)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">        </font><font color="#6666ff">return</font><font color="#6666ff"> </font><font color="#6666ff">wrap(res);</font>
<font color="#6666ff">'</font>, Rcpp <font color="#000000"><strong>=</strong></font> <font color="#cc00cc">TRUE</font>, includes <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">using</font><font color="#6666ff"> </font><font color="#6666ff">namespace</font><font color="#6666ff"> </font><font color="#6666ff">Rcpp;</font><font color="#6666ff">&quot;</font> <font color="#000000"><strong>)</strong></font>
d <font color="#000000"><strong>&lt;-</strong></font> <font color="#ff0000">data.frame</font><font color="#000000"><strong>(</strong></font> x <font color="#000000"><strong>=</strong></font> <font color="#ff0000">1</font><font color="#000000"><strong>:</strong></font><font color="#ff0000">10</font>, y <font color="#000000"><strong>=</strong></font> letters<font color="#000000"><strong>[</strong></font><font color="#ff0000">1</font><font color="#000000"><strong>:</strong></font><font color="#ff0000">10</font><font color="#000000"><strong>]</strong></font> <font color="#000000"><strong>)</strong></font>
<font color="#ff0000">checkEquals</font><font color="#000000"><strong>(</strong></font> <font color="#ff0000">funx</font><font color="#000000"><strong>(</strong></font> d <font color="#000000"><strong>)</strong></font>, <font color="#ff0000">sum</font><font color="#000000"><strong>(</strong></font><font color="#ff0000">1</font><font color="#000000"><strong>:</strong></font><font color="#ff0000">10</font><font color="#000000"><strong>)</strong></font>, msg <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">List</font><font color="#6666ff"> </font><font color="#6666ff">names</font><font color="#6666ff"> </font><font color="#6666ff">based</font><font color="#6666ff"> </font><font color="#6666ff">indexing</font><font color="#6666ff">&quot;</font> <font color="#000000"><strong>)</strong></font>
</font></pre>

