<pre><font color="#000000">cpp_lapply <font color="#000000"><strong>&lt;-</strong></font> <font color="#ff0000">cfunction</font><font color="#000000"><strong>(</strong></font><font color="#ff0000">signature</font><font color="#000000"><strong>(</strong></font>x <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">list</font><font color="#6666ff">&quot;</font>, g <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">function</font><font color="#6666ff">&quot;</font> <font color="#000000"><strong>)</strong></font>, <font color="#6666ff">'</font>
<font color="#6666ff">Function</font><font color="#6666ff"> </font><font color="#6666ff">fun(g)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">List</font><font color="#6666ff"> </font><font color="#6666ff">input(x)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">List</font><font color="#6666ff"> </font><font color="#6666ff">output(</font><font color="#6666ff"> </font><font color="#6666ff">input.size()</font><font color="#6666ff"> </font><font color="#6666ff">)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">std::transform(</font><font color="#6666ff"> </font><font color="#6666ff">input.begin(),</font><font color="#6666ff"> </font><font color="#6666ff">input.end(),</font><font color="#6666ff"> </font><font color="#6666ff">output.begin(),</font><font color="#6666ff"> </font><font color="#6666ff">fun</font><font color="#6666ff"> </font><font color="#6666ff">)</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">output.names()</font><font color="#6666ff"> </font><font color="#6666ff">=</font><font color="#6666ff"> </font><font color="#6666ff">input.names()</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">return</font><font color="#6666ff"> </font><font color="#6666ff">output</font><font color="#6666ff"> </font><font color="#6666ff">;</font>
<font color="#6666ff">'</font>, Rcpp <font color="#000000"><strong>=</strong></font> <font color="#cc00cc">TRUE</font>, includes <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">using</font><font color="#6666ff"> </font><font color="#6666ff">namespace</font><font color="#6666ff"> </font><font color="#6666ff">Rcpp;</font><font color="#6666ff">&quot;</font>  <font color="#000000"><strong>)</strong></font>

data <font color="#000000"><strong>&lt;-</strong></font> <font color="#ff0000">list</font><font color="#000000"><strong>(</strong></font> x <font color="#000000"><strong>=</strong></font> letters, y <font color="#000000"><strong>=</strong></font> LETTERS, z <font color="#000000"><strong>=</strong></font> <font color="#ff0000">1</font><font color="#000000"><strong>:</strong></font><font color="#ff0000">4</font> <font color="#000000"><strong>)</strong></font>
<font color="#ff0000">checkEquals</font><font color="#000000"><strong>(</strong></font> 
        <font color="#ff0000">cpp_lapply</font><font color="#000000"><strong>(</strong></font> data, length <font color="#000000"><strong>)</strong></font>, 
        <font color="#ff0000">list</font><font color="#000000"><strong>(</strong></font> x <font color="#000000"><strong>=</strong></font> 26L, y <font color="#000000"><strong>=</strong></font> 26L, z <font color="#000000"><strong>=</strong></font> 4L<font color="#000000"><strong>)</strong></font>, 
        msg <font color="#000000"><strong>=</strong></font> <font color="#6666ff">&quot;</font><font color="#6666ff">c++</font><font color="#6666ff"> </font><font color="#6666ff">version</font><font color="#6666ff"> </font><font color="#6666ff">of</font><font color="#6666ff"> </font><font color="#6666ff">lapply</font><font color="#6666ff">&quot;</font> <font color="#000000"><strong>)</strong></font>

</font></pre>

